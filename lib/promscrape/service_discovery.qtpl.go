// Code generated by qtc from "service_discovery.qtpl". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line lib/promscrape/service_discovery.qtpl:1
package promscrape

//line lib/promscrape/service_discovery.qtpl:1
import (
	"github.com/VictoriaMetrics/VictoriaMetrics/lib/promrelabel"
)

//line lib/promscrape/service_discovery.qtpl:5
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line lib/promscrape/service_discovery.qtpl:5
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line lib/promscrape/service_discovery.qtpl:5
func StreamServiceDiscovery(qw422016 *qt422016.Writer, jts []jobTargetsStatuses, emptyJobs []string, showOnlyUnhealthy bool, droppedKeyStatuses []droppedKeyStatus) {
//line lib/promscrape/service_discovery.qtpl:5
	qw422016.N().S(`
<div class="row mt-4">
    <div class="col-12">
        `)
//line lib/promscrape/service_discovery.qtpl:8
	for i, js := range jts {
//line lib/promscrape/service_discovery.qtpl:8
		qw422016.N().S(`
        `)
//line lib/promscrape/service_discovery.qtpl:9
		if showOnlyUnhealthy && js.upCount == js.targetsTotal {
//line lib/promscrape/service_discovery.qtpl:9
			continue
//line lib/promscrape/service_discovery.qtpl:9
		}
//line lib/promscrape/service_discovery.qtpl:9
		qw422016.N().S(`
            <h4>
                   <span class="me-2">`)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.E().S(js.job)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.N().S(` `)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.N().S(`(`)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.N().D(js.upCount)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.N().S(`/`)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.N().D(js.targetsTotal)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.N().S(` `)
//line lib/promscrape/service_discovery.qtpl:11
		qw422016.N().S(`up)</span>
                   <button type="button" class="btn btn-primary btn-sm me-1"
                           onclick="document.querySelector('.table-discovery-`)
//line lib/promscrape/service_discovery.qtpl:13
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:13
		qw422016.N().S(`').style.display='none'">collapse
                   </button>
                   <button type="button" class="btn btn-secondary btn-sm me-1"
                           onclick="document.querySelector('.table-discovery-`)
//line lib/promscrape/service_discovery.qtpl:16
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:16
		qw422016.N().S(`').style.display='block'">expand
                   </button>
            </h4>
            <div id="table-discovery-`)
//line lib/promscrape/service_discovery.qtpl:19
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:19
		qw422016.N().S(`" class="table-responsive table-discovery-`)
//line lib/promscrape/service_discovery.qtpl:19
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:19
		qw422016.N().S(`">
               <table class="table table-striped table-hover table-bordered table-sm">
                   <thead>
                   <tr>
                       <th scope="col" style="width: 50%">Discovered Labels</th>
                       <th scope="col" style="width: 50%">Target Labels</th>
                   </tr>
                   </thead>
                   <tbody class="list-`)
//line lib/promscrape/service_discovery.qtpl:27
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:27
		qw422016.N().S(`">
                   `)
//line lib/promscrape/service_discovery.qtpl:28
		for _, ts := range js.targetsStatus {
//line lib/promscrape/service_discovery.qtpl:28
			qw422016.N().S(`
                   `)
//line lib/promscrape/service_discovery.qtpl:29
			if showOnlyUnhealthy && ts.up {
//line lib/promscrape/service_discovery.qtpl:29
				continue
//line lib/promscrape/service_discovery.qtpl:29
			}
//line lib/promscrape/service_discovery.qtpl:29
			qw422016.N().S(`
                   <tr `)
//line lib/promscrape/service_discovery.qtpl:30
			if !ts.up {
//line lib/promscrape/service_discovery.qtpl:30
				qw422016.N().S(` `)
//line lib/promscrape/service_discovery.qtpl:30
				qw422016.N().S(`class="alert alert-danger" role="alert" `)
//line lib/promscrape/service_discovery.qtpl:30
			}
//line lib/promscrape/service_discovery.qtpl:30
			qw422016.N().S(`>
                       <td class="labels">
                          `)
//line lib/promscrape/service_discovery.qtpl:32
			streamformatLabel(qw422016, ts.sw.Config.OriginalLabels)
//line lib/promscrape/service_discovery.qtpl:32
			qw422016.N().S(`
                       </td>
                       <td class="labels">
                           `)
//line lib/promscrape/service_discovery.qtpl:35
			streamformatLabel(qw422016, promrelabel.FinalizeLabels(nil, ts.sw.Config.Labels))
//line lib/promscrape/service_discovery.qtpl:35
			qw422016.N().S(`
                       </td>
                   </tr>
                   `)
//line lib/promscrape/service_discovery.qtpl:38
		}
//line lib/promscrape/service_discovery.qtpl:38
		qw422016.N().S(`
                   </tbody>
               </table>
            </div>
        `)
//line lib/promscrape/service_discovery.qtpl:42
	}
//line lib/promscrape/service_discovery.qtpl:42
	qw422016.N().S(`
    </div>
</div>
`)
//line lib/promscrape/service_discovery.qtpl:45
	for i, jobName := range emptyJobs {
//line lib/promscrape/service_discovery.qtpl:45
		qw422016.N().S(`
   <div>
       <h4>
            <a>`)
//line lib/promscrape/service_discovery.qtpl:48
		qw422016.E().S(jobName)
//line lib/promscrape/service_discovery.qtpl:48
		qw422016.N().S(` (0/0 up)</a>
            <button type="button" class="btn btn-primary btn-sm me-1"
                   onclick="document.querySelector('.table-empty-`)
//line lib/promscrape/service_discovery.qtpl:50
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:50
		qw422016.N().S(`').style.display='none'">collapse
            </button>
            <button type="button" class="btn btn-secondary btn-sm me-1"
                   onclick="document.querySelector('.table-empty-`)
//line lib/promscrape/service_discovery.qtpl:53
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:53
		qw422016.N().S(`').style.display='block'">expand
            </button>
       </h4>
       <table id="table-empty-`)
//line lib/promscrape/service_discovery.qtpl:56
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:56
		qw422016.N().S(`" class="table table-striped table-hover table-bordered table-sm table-empty-`)
//line lib/promscrape/service_discovery.qtpl:56
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:56
		qw422016.N().S(`">
           <thead>
               <tr>
                   <th scope="col" style="width: 50%">Discovered Labels</th>
                   <th scope="col" style="width: 50%">Target Labels</th>
               </tr>
           </thead>
            <tbody class="list-`)
//line lib/promscrape/service_discovery.qtpl:63
		qw422016.N().D(i)
//line lib/promscrape/service_discovery.qtpl:63
		qw422016.N().S(`">
                 `)
//line lib/promscrape/service_discovery.qtpl:64
		for _, status := range droppedKeyStatuses {
//line lib/promscrape/service_discovery.qtpl:64
			qw422016.N().S(`
                    `)
//line lib/promscrape/service_discovery.qtpl:65
			for _, label := range status.originalLabels {
//line lib/promscrape/service_discovery.qtpl:65
				qw422016.N().S(`
                        `)
//line lib/promscrape/service_discovery.qtpl:66
				if label.Value == jobName {
//line lib/promscrape/service_discovery.qtpl:66
					qw422016.N().S(`
                             <tr>
                                 <td class="labels">
                                    `)
//line lib/promscrape/service_discovery.qtpl:69
					streamformatLabel(qw422016, status.originalLabels)
//line lib/promscrape/service_discovery.qtpl:69
					qw422016.N().S(`
                                 </td>
                                 <td class="labels">
                                    <span class="badge bg-danger">DROPPED</span>
                                 </td>
                             </tr>
                        `)
//line lib/promscrape/service_discovery.qtpl:75
				}
//line lib/promscrape/service_discovery.qtpl:75
				qw422016.N().S(`
                    `)
//line lib/promscrape/service_discovery.qtpl:76
			}
//line lib/promscrape/service_discovery.qtpl:76
			qw422016.N().S(`
                 `)
//line lib/promscrape/service_discovery.qtpl:77
		}
//line lib/promscrape/service_discovery.qtpl:77
		qw422016.N().S(`
             </tbody>
       </table>
   </div>
`)
//line lib/promscrape/service_discovery.qtpl:81
	}
//line lib/promscrape/service_discovery.qtpl:81
	qw422016.N().S(`
`)
//line lib/promscrape/service_discovery.qtpl:82
}

//line lib/promscrape/service_discovery.qtpl:82
func WriteServiceDiscovery(qq422016 qtio422016.Writer, jts []jobTargetsStatuses, emptyJobs []string, showOnlyUnhealthy bool, droppedKeyStatuses []droppedKeyStatus) {
//line lib/promscrape/service_discovery.qtpl:82
	qw422016 := qt422016.AcquireWriter(qq422016)
//line lib/promscrape/service_discovery.qtpl:82
	StreamServiceDiscovery(qw422016, jts, emptyJobs, showOnlyUnhealthy, droppedKeyStatuses)
//line lib/promscrape/service_discovery.qtpl:82
	qt422016.ReleaseWriter(qw422016)
//line lib/promscrape/service_discovery.qtpl:82
}

//line lib/promscrape/service_discovery.qtpl:82
func ServiceDiscovery(jts []jobTargetsStatuses, emptyJobs []string, showOnlyUnhealthy bool, droppedKeyStatuses []droppedKeyStatus) string {
//line lib/promscrape/service_discovery.qtpl:82
	qb422016 := qt422016.AcquireByteBuffer()
//line lib/promscrape/service_discovery.qtpl:82
	WriteServiceDiscovery(qb422016, jts, emptyJobs, showOnlyUnhealthy, droppedKeyStatuses)
//line lib/promscrape/service_discovery.qtpl:82
	qs422016 := string(qb422016.B)
//line lib/promscrape/service_discovery.qtpl:82
	qt422016.ReleaseByteBuffer(qb422016)
//line lib/promscrape/service_discovery.qtpl:82
	return qs422016
//line lib/promscrape/service_discovery.qtpl:82
}
