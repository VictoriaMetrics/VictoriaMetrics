// Code generated by qtc from "targets.qtpl". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line lib/promscrape/targets.qtpl:1
package promscrape

//line lib/promscrape/targets.qtpl:1
import "github.com/VictoriaMetrics/VictoriaMetrics/lib/prompbmarshal"

//line lib/promscrape/targets.qtpl:4
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line lib/promscrape/targets.qtpl:4
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line lib/promscrape/targets.qtpl:4
func StreamTargetsResponsePlain(qw422016 *qt422016.Writer, jts []jobTargetsStatuses, showOriginLabels bool) {
//line lib/promscrape/targets.qtpl:5
	for _, js := range jts {
//line lib/promscrape/targets.qtpl:5
		qw422016.N().S(`job=`)
//line lib/promscrape/targets.qtpl:6
		qw422016.N().Q(js.job)
//line lib/promscrape/targets.qtpl:6
		qw422016.N().S(`(`)
//line lib/promscrape/targets.qtpl:6
		qw422016.N().D(js.upCount)
//line lib/promscrape/targets.qtpl:6
		qw422016.N().S(`/`)
//line lib/promscrape/targets.qtpl:6
		qw422016.N().D(js.targetsTotal)
//line lib/promscrape/targets.qtpl:6
		qw422016.N().S(` up)
`)
//line lib/promscrape/targets.qtpl:7
		for _, target := range js.targetsStatus {
//line lib/promscrape/targets.qtpl:9
			labels := promLabelsString(target.labels)
			ol := promLabelsString(target.originalLabels)

//line lib/promscrape/targets.qtpl:11
			qw422016.N().S(`    state=`)
//line lib/promscrape/targets.qtpl:12
			if target.up {
//line lib/promscrape/targets.qtpl:12
				qw422016.N().S(`up`)
//line lib/promscrape/targets.qtpl:12
			} else {
//line lib/promscrape/targets.qtpl:12
				qw422016.N().S(`down`)
//line lib/promscrape/targets.qtpl:12
			}
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(`, endpoint=`)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(target.endpoint)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(`, labels=`)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(labels)
//line lib/promscrape/targets.qtpl:12
			if showOriginLabels {
//line lib/promscrape/targets.qtpl:12
				qw422016.N().S(`, originalLabels=`)
//line lib/promscrape/targets.qtpl:12
				qw422016.N().S(ol)
//line lib/promscrape/targets.qtpl:12
			}
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(`, last_scrape=`)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().FPrec(target.lastScrapeTime.Seconds(), 3)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(`s ago, scrape_duration=`)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().FPrec(float64(target.scrapeDuration/1000), 3)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(`, error=`)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().Q(target.error)
//line lib/promscrape/targets.qtpl:12
			qw422016.N().S(`
`)
//line lib/promscrape/targets.qtpl:13
		}
//line lib/promscrape/targets.qtpl:14
	}
//line lib/promscrape/targets.qtpl:14
	qw422016.N().S(`
`)
//line lib/promscrape/targets.qtpl:15
}

//line lib/promscrape/targets.qtpl:15
func WriteTargetsResponsePlain(qq422016 qtio422016.Writer, jts []jobTargetsStatuses, showOriginLabels bool) {
//line lib/promscrape/targets.qtpl:15
	qw422016 := qt422016.AcquireWriter(qq422016)
//line lib/promscrape/targets.qtpl:15
	StreamTargetsResponsePlain(qw422016, jts, showOriginLabels)
//line lib/promscrape/targets.qtpl:15
	qt422016.ReleaseWriter(qw422016)
//line lib/promscrape/targets.qtpl:15
}

//line lib/promscrape/targets.qtpl:15
func TargetsResponsePlain(jts []jobTargetsStatuses, showOriginLabels bool) string {
//line lib/promscrape/targets.qtpl:15
	qb422016 := qt422016.AcquireByteBuffer()
//line lib/promscrape/targets.qtpl:15
	WriteTargetsResponsePlain(qb422016, jts, showOriginLabels)
//line lib/promscrape/targets.qtpl:15
	qs422016 := string(qb422016.B)
//line lib/promscrape/targets.qtpl:15
	qt422016.ReleaseByteBuffer(qb422016)
//line lib/promscrape/targets.qtpl:15
	return qs422016
//line lib/promscrape/targets.qtpl:15
}

//line lib/promscrape/targets.qtpl:17
func StreamTargetsResponseHTML(qw422016 *qt422016.Writer, jts []jobTargetsStatuses, redirectPath string, onlyUnhealthy bool) {
//line lib/promscrape/targets.qtpl:17
	qw422016.N().S(`
<!DOCTYPE html>
<style>
    .border{
        border-collapse: collapse;
        border: 1px solid black;
    }
    .table-row:hover{
        background-color: #f5f5f5;
    }
</style>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>VictoriaMetrics Database</title>
    </head>
    <body>
    <h1>Targets</h1>
    <div id="showTargets" class="btn-group btn-group-toggle" data-toggle="buttons">
      <label class="btn">
        <input type="radio" name="targets" id="all-targets" autocomplete="off" onclick="location.href='`)
//line lib/promscrape/targets.qtpl:37
	qw422016.N().S(redirectPath)
//line lib/promscrape/targets.qtpl:37
	qw422016.N().S(`';" `)
//line lib/promscrape/targets.qtpl:37
	if !onlyUnhealthy {
//line lib/promscrape/targets.qtpl:37
		qw422016.N().S(`checked `)
//line lib/promscrape/targets.qtpl:37
	}
//line lib/promscrape/targets.qtpl:37
	qw422016.N().S(`> All
      </label>
      <label class="btn">
        <input type="radio" name="targets" id="unhealthy-targets" autocomplete="off" onclick="location.href='`)
//line lib/promscrape/targets.qtpl:40
	qw422016.N().S(redirectPath)
//line lib/promscrape/targets.qtpl:40
	qw422016.N().S(`?show_only_unhealthy=true';" `)
//line lib/promscrape/targets.qtpl:40
	if onlyUnhealthy {
//line lib/promscrape/targets.qtpl:40
		qw422016.N().S(`checked `)
//line lib/promscrape/targets.qtpl:40
	}
//line lib/promscrape/targets.qtpl:40
	qw422016.N().S(`> Unhealthy
      </label>
      <br />
  </div>
  `)
//line lib/promscrape/targets.qtpl:44
	for _, js := range jts {
//line lib/promscrape/targets.qtpl:44
		qw422016.N().S(`
  		    <div class="table-container">
                <h2 class="job_header danger">
                  <a id="job-`)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().Q(js.job)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().S(`" >`)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().Q(js.job)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().S(` (`)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().D(js.upCount)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().S(`/`)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().D(js.targetsTotal)
//line lib/promscrape/targets.qtpl:47
		qw422016.N().S(` up)</a>
                </h2>
                <table class="table-bordered table-hover border">
                  <thead class="job_details border">
                    <tr class="table-row border">
                      <th class="border">Endpoint</th>
                      <th class="border">State</th>
                      <th class="border">Labels</th>
                      <th class="border">Last Scrape</th>
                      <th class="border">Scrape Duration</th>
                      <th class="border">Error</th>
                    </tr>
                  </thead>
                  <tbody>
                  `)
//line lib/promscrape/targets.qtpl:61
		for _, target := range js.targetsStatus {
//line lib/promscrape/targets.qtpl:61
			qw422016.N().S(`
                    `)
//line lib/promscrape/targets.qtpl:62
			if onlyUnhealthy && target.up {
//line lib/promscrape/targets.qtpl:62
				qw422016.N().S(` `)
//line lib/promscrape/targets.qtpl:62
				continue
//line lib/promscrape/targets.qtpl:62
			}
//line lib/promscrape/targets.qtpl:62
			qw422016.N().S(`
                    <tr class="table-row border">
                      <td class="endpoint border">
                        <a href="`)
//line lib/promscrape/targets.qtpl:65
			qw422016.N().S(target.endpoint)
//line lib/promscrape/targets.qtpl:65
			qw422016.N().S(`">`)
//line lib/promscrape/targets.qtpl:65
			qw422016.N().S(target.endpoint)
//line lib/promscrape/targets.qtpl:65
			qw422016.N().S(`</a><br>
                      </td>
                      <td class="state border">
                        <span class="state_indicator">`)
//line lib/promscrape/targets.qtpl:68
			if target.up {
//line lib/promscrape/targets.qtpl:68
				qw422016.N().S(`UP`)
//line lib/promscrape/targets.qtpl:68
			} else {
//line lib/promscrape/targets.qtpl:68
				qw422016.N().S(`DOWN`)
//line lib/promscrape/targets.qtpl:68
			}
//line lib/promscrape/targets.qtpl:68
			qw422016.N().S(`</span>
                      </td>
                      <td class="labels border", title="`)
//line lib/promscrape/targets.qtpl:70
			streamformatLabel(qw422016, target.originalLabels)
//line lib/promscrape/targets.qtpl:70
			qw422016.N().S(`">
                           `)
//line lib/promscrape/targets.qtpl:71
			streamformatLabel(qw422016, target.labels)
//line lib/promscrape/targets.qtpl:71
			qw422016.N().S(`
                      </td>
                      <td class="last-scrape border">`)
//line lib/promscrape/targets.qtpl:73
			qw422016.E().S(target.lastScrapeTime.String())
//line lib/promscrape/targets.qtpl:73
			qw422016.N().S(` ago</td>
                      <td class="scrape-duration border">`)
//line lib/promscrape/targets.qtpl:74
			qw422016.E().S(target.scrapeDuration.String())
//line lib/promscrape/targets.qtpl:74
			qw422016.N().S(`</td>
                      <td class="errors border"><span class="alert alert-danger state_indicator">`)
//line lib/promscrape/targets.qtpl:75
			qw422016.N().S(target.error)
//line lib/promscrape/targets.qtpl:75
			qw422016.N().S(`</span></td>
                    </tr>
                  `)
//line lib/promscrape/targets.qtpl:77
		}
//line lib/promscrape/targets.qtpl:77
		qw422016.N().S(`
                  </tbody>
                </table>
              </div>
  `)
//line lib/promscrape/targets.qtpl:81
	}
//line lib/promscrape/targets.qtpl:81
	qw422016.N().S(`
    </body>
</html>
`)
//line lib/promscrape/targets.qtpl:84
}

//line lib/promscrape/targets.qtpl:84
func WriteTargetsResponseHTML(qq422016 qtio422016.Writer, jts []jobTargetsStatuses, redirectPath string, onlyUnhealthy bool) {
//line lib/promscrape/targets.qtpl:84
	qw422016 := qt422016.AcquireWriter(qq422016)
//line lib/promscrape/targets.qtpl:84
	StreamTargetsResponseHTML(qw422016, jts, redirectPath, onlyUnhealthy)
//line lib/promscrape/targets.qtpl:84
	qt422016.ReleaseWriter(qw422016)
//line lib/promscrape/targets.qtpl:84
}

//line lib/promscrape/targets.qtpl:84
func TargetsResponseHTML(jts []jobTargetsStatuses, redirectPath string, onlyUnhealthy bool) string {
//line lib/promscrape/targets.qtpl:84
	qb422016 := qt422016.AcquireByteBuffer()
//line lib/promscrape/targets.qtpl:84
	WriteTargetsResponseHTML(qb422016, jts, redirectPath, onlyUnhealthy)
//line lib/promscrape/targets.qtpl:84
	qs422016 := string(qb422016.B)
//line lib/promscrape/targets.qtpl:84
	qt422016.ReleaseByteBuffer(qb422016)
//line lib/promscrape/targets.qtpl:84
	return qs422016
//line lib/promscrape/targets.qtpl:84
}

//line lib/promscrape/targets.qtpl:86
func streamformatLabel(qw422016 *qt422016.Writer, labels []prompbmarshal.Label) {
//line lib/promscrape/targets.qtpl:86
	qw422016.N().S(`
`)
//line lib/promscrape/targets.qtpl:87
	for _, label := range labels {
//line lib/promscrape/targets.qtpl:87
		qw422016.N().S(`
  `)
//line lib/promscrape/targets.qtpl:88
		qw422016.E().S(label.Name)
//line lib/promscrape/targets.qtpl:88
		qw422016.N().S(`=`)
//line lib/promscrape/targets.qtpl:88
		qw422016.E().Q(label.Value)
//line lib/promscrape/targets.qtpl:88
		qw422016.N().S(`
`)
//line lib/promscrape/targets.qtpl:89
	}
//line lib/promscrape/targets.qtpl:89
	qw422016.N().S(`
`)
//line lib/promscrape/targets.qtpl:90
}

//line lib/promscrape/targets.qtpl:90
func writeformatLabel(qq422016 qtio422016.Writer, labels []prompbmarshal.Label) {
//line lib/promscrape/targets.qtpl:90
	qw422016 := qt422016.AcquireWriter(qq422016)
//line lib/promscrape/targets.qtpl:90
	streamformatLabel(qw422016, labels)
//line lib/promscrape/targets.qtpl:90
	qt422016.ReleaseWriter(qw422016)
//line lib/promscrape/targets.qtpl:90
}

//line lib/promscrape/targets.qtpl:90
func formatLabel(labels []prompbmarshal.Label) string {
//line lib/promscrape/targets.qtpl:90
	qb422016 := qt422016.AcquireByteBuffer()
//line lib/promscrape/targets.qtpl:90
	writeformatLabel(qb422016, labels)
//line lib/promscrape/targets.qtpl:90
	qs422016 := string(qb422016.B)
//line lib/promscrape/targets.qtpl:90
	qt422016.ReleaseByteBuffer(qb422016)
//line lib/promscrape/targets.qtpl:90
	return qs422016
//line lib/promscrape/targets.qtpl:90
}
